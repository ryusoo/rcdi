<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.rcdi.mybatis.RcdiMapper.xml">
<!-- parameterType은 보내는 타입, resultType은 받는 타입 -->
<!-- Configuration.xml 의 com.rcdi.dto.ProductDTO 를 ProductDTO(alias) 대신 직접 쓰기도 한다. 현업에서 alias 현업에서 --> 
	<select id="bestList" resultType="com.rcdi.dto.ProductDTO">
	<![CDATA[
		SELECT * 
		FROM (SELECT * FROM tbl_product
			  WHERE p_type = '신발'
     	 	  ORDER BY p_good DESC)
		WHERE ROWNUM <=4
	]]>
	</select>
	
	<select id="arrivalList" resultType="com.rcdi.dto.ProductDTO">
	<![CDATA[
		SELECT * 
		FROM (SELECT * FROM tbl_product
			  WHERE p_type = '의류'
     	 	  ORDER BY p_indate DESC)
		WHERE ROWNUM <=4
	]]>
	</select>
	
	<!-- resultType이 DTO가 아니라 String인 이유는 id하나만 오니까 -->
	<select id="idCheck" parameterType="String" resultType="String">
		SELECT id FROM tbl_member
		WHERE id = #{id}
	</select>

</mapper>